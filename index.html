<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>陈伊涵 & 涂腾文 ｜ 我们结婚啦</title>

<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: "PingFang SC","Noto Sans SC","Microsoft YaHei",sans-serif;
    background:#fefefe;color:#333;line-height:1.6;
    -webkit-font-smoothing:antialiased;
  }
  .wrap{max-width:980px;margin:18px auto;background:#fff;box-shadow:0 6px 30px rgba(0,0,0,.06);overflow:hidden;border-radius:8px}

  /* ---------------- header / cover ---------------- */
  .header{
    height:62vh;min-height:380px;
    background:
      linear-gradient(rgba(0,0,0,.25),rgba(0,0,0,.2)),
      url("https://raw.githubusercontent.com/chenmatou/laicai/main/images/cover.jpg") center/cover no-repeat; /* <-- 替换：images/cover.jpg */
    color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:28px;position:relative;
  }
  .header::after{content:"";position:absolute;left:0;right:0;bottom:0;height:90px;background:linear-gradient(to top,#fff,transparent)}
  .date {font-size:1.05rem;letter-spacing:4px;font-weight:300;margin-bottom:6px}
  .title {font-size:2.0rem;letter-spacing:6px;margin:8px 0}
  .subtitle {font-size:1rem;letter-spacing:6px;margin-bottom:12px}
  .names {font-size:2.4rem;font-weight:300;letter-spacing:8px;margin-top:6px}
  /* small info bar under cover (date/time) */
  .time-note {
    margin-top:14px;background:rgba(255,255,255,.94);color:#8b7355;padding:10px 18px;border-radius:6px;font-size:0.95rem;
  }

  /* ---------------- invitation / text ---------------- */
  .section {padding:44px 36px;text-align:center}
  .section .heading {color:#b8865a;font-size:1.6rem;margin-bottom:18px;display:inline-block;padding-bottom:6px;position:relative}
  .section .heading::after{content:"";width:60px;height:2px;background:#e8d0b3;position:absolute;left:50%;transform:translateX(-50%);bottom:-10px}

  .text {max-width:760px;margin:12px auto;color:#666;font-size:1.04rem;line-height:1.8}

  /* ---------------- time & place block (独立板块) ---------------- */
  .time-place {display:flex;flex-wrap:wrap;gap:20px;justify-content:center;padding:28px 36px;background:#fff}
  .card {
    background:#f9f5f0;border-radius:10px;padding:20px;min-width:240px;box-shadow:0 8px 20px rgba(0,0,0,.04);
    text-align:center;
  }
  .card h4{color:#b8865a;margin-bottom:8px}

  .arrival-note{margin-top:8px;color:#8b7355;font-size:0.95rem}

  /* ---------------- countdown (独立板块) ---------------- */
  .countdown-wrap{background:linear-gradient(135deg,#f7e9d7,#efe0cc);padding:36px;text-align:center}
  .countdown-inner{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;margin-top:12px}
  .count-item{background:#fff;padding:12px 16px;border-radius:10px;min-width:88px;box-shadow:0 8px 20px rgba(0,0,0,.04)}
  .count-value{font-size:1.9rem;color:#b8865a;font-weight:400}
  .count-label{font-size:0.85rem;color:#7a6a5a;margin-top:6px}

  /* ---------------- sweet section（背景三）----------------
     Requirements:
     - independent section
     - three images: left 4:3 (底层), center 1:1 (顶层), right 4:3 (底层)
     - all images sit visually on top of a large '\' symbol (symbol behind images)
     - no rotation; only positions (left/top/right/bottom) to create layered look
  */
  .sweet-section{padding:46px 28px;background:#fff;text-align:center;position:relative}
  .sweet-section .heading{margin-bottom:22px}

  /* big backslash behind images */
  .slash {
    position:absolute;left:50%;top:50%;transform:translate(-50%,-10%);
    font-size:220px;color:rgba(184,134,90,0.12);z-index:1;pointer-events:none;user-select:none;
  }

  .sweet-grid{position:relative;margin:0 auto;width:92%;max-width:920px;height:420px;z-index:2}
  .sweet-photo{
    position:absolute;border-radius:10px;overflow:hidden;box-shadow:0 18px 40px rgba(0,0,0,0.12);
    background:#eee;
  }
  .sweet-photo img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .45s ease}
  .sweet-photo:hover img{transform:scale(1.04)}

  /* left 4:3 (底层) */
  .photo-left{width:42%;aspect-ratio:4/3;left:0;top:0;z-index:2}
  /* center 1:1 (顶层) */
  .photo-center{width:46%;aspect-ratio:1/1;left:27%;top:-6%;z-index:4;border:6px solid rgba(255,255,255,.65)}
  /* right 4:3 (底层) */
  .photo-right{width:42%;aspect-ratio:4/3;right:0;bottom:0;z-index:2}

  /* ---------------- RSVP & attendee counter ---------------- */
  .rsvp-section{padding:36px 28px;background:#fff}
  .rsvp-inner{max-width:720px;margin:0 auto;text-align:left}
  .form-row{margin-bottom:16px}
  label{display:block;margin-bottom:8px;color:#8b7355}
  input[type="text"], select, textarea{width:100%;padding:10px 12px;border:1px solid #e8d0b3;border-radius:6px;background:#fff;font-size:1rem;color:#5a4a42}
  .submit{display:inline-block;background:#b8865a;color:#fff;padding:10px 20px;border-radius:24px;border:none;cursor:pointer;margin-top:10px}
  .counter-box{margin-top:18px;padding:12px 14px;background:#f9f5f0;border-radius:8px;color:#5a4a42;display:inline-block}

  /* audio control */
  .music-control{position:fixed;top:18px;right:18px;width:50px;height:50px;border-radius:50%;background:rgba(255,255,255,0.92);display:flex;align-items:center;justify-content:center;z-index:999;box-shadow:0 6px 18px rgba(0,0,0,.12);cursor:pointer}
  .music-control i{color:#b8865a;font-size:20px}

  /* footer */
  .footer{background:#5a4a42;color:#f9f5f0;text-align:center;padding:28px}

  /* responsive */
  @media(max-width:880px){
    .sweet-grid{height:520px}
    .photo-left{width:70%;left:6%;top:6%}
    .photo-center{width:62%;left:19%;top:28%}
    .photo-right{width:70%;right:6%;top:58%;bottom:auto}
    .slash{font-size:140px;transform:translate(-50%,8%)}
  }
  @media(max-width:520px){
    .header{height:50vh}
    .names{font-size:1.6rem}
    .sweet-grid{height:640px}
  }
</style>
</head>
<body>

<div class="wrap">

  <!-- header / cover -->
  <header class="header" role="banner" aria-label="婚礼封面">
    <div class="date">2025.12.29</div>
    <div class="title">我们同行</div>
    <div class="subtitle">our wedding</div>
    <div class="names">陈伊涵 &amp; 涂腾文</div> <!-- 已更新姓名 -->
    <div class="time-note">婚宴时间：2025年12月29日 （星期一） 18:00 &nbsp;·&nbsp; 请提前半小时到达现场</div>
  </header>

  <!-- invitation -->
  <section class="section" aria-labelledby="inv-title">
    <h2 id="inv-title" class="heading">诚礼邀请函</h2>
    <p class="text">我们曾各自在人海中寻觅，直到遇见彼此，才明白什么是命中注定。诚邀你来见证我们的双向奔赴。</p>
  </section>

  <!-- 新人信息 -->
  <section class="section" aria-labelledby="couple-title">
    <h3 id="couple-title" class="heading">新人信息</h3>
    <div class="text" style="margin-top:12px">
      <strong>新郎：</strong> 陈伊涵 &nbsp;&nbsp; <strong>新娘：</strong> 涂腾文
    </div>
  </section>

  <!-- 时间地点单独板块 -->
  <section class="time-place" aria-labelledby="timeplace">
    <div class="card" aria-hidden="false">
      <h4>典礼时间</h4>
      <div>2025年12月29日（星期一）</div>
      <div>18:00 开始</div>
      <div class="arrival-note">请提前半小时到达现场（17:30）</div>
    </div>

    <div class="card">
      <h4>典礼地点</h4>
      <div>莆田市秀屿区笏石镇</div>
      <div>岭美村大埔戏台附件</div>
      <div style="margin-top:6px;color:#7a6a5a;font-size:0.95rem">导航请使用高德地图</div>
    </div>
  </section>

  <!-- 倒计时单独板块 -->
  <section class="countdown-wrap" aria-labelledby="count-title">
    <h3 id="count-title" class="heading" style="color:#b8865a">倒计时</h3>
    <div class="countdown-inner" style="margin-top:10px">
      <div class="count-item count-item--days">
        <div id="cd-days" class="count-value count-value--days">0</div>
        <div class="count-label">天</div>
      </div>
      <div class="count-item">
        <div id="cd-hours" class="count-value">0</div>
        <div class="count-label">时</div>
      </div>
      <div class="count-item">
        <div id="cd-minutes" class="count-value">0</div>
        <div class="count-label">分</div>
      </div>
      <div class="count-item">
        <div id="cd-seconds" class="count-value">0</div>
        <div class="count-label">秒</div>
      </div>
    </div>
  </section>

  <!-- 幸福甜蜜时刻（背景三） -->
  <section class="sweet-section" aria-labelledby="sweet-title">
    <h3 id="sweet-title" class="heading">幸福 · 甜蜜时刻</h3>

    <!-- 大的反斜杠 '\' 放在图下方 -->
    <div class="slash" aria-hidden="true">\</div>

    <div class="sweet-grid" role="list" aria-label="甜蜜照片集">
      <!-- 左上 4:3 -->
      <figure class="sweet-photo photo-left" role="listitem" aria-label="甜蜜左上">
        <!-- 替换位置：images/photo1.jpg -->
        <img src="https://raw.githubusercontent.com/chenmatou/laicai/main/images/photo1.jpg" alt="甜蜜时刻 左上">
      </figure>

      <!-- 中间 1:1（置顶层） -->
      <figure class="sweet-photo photo-center" role="listitem" aria-label="甜蜜中间">
        <!-- 替换位置：images/photo2.jpg -->
        <img src="https://raw.githubusercontent.com/chenmatou/laicai/main/images/photo2.jpg" alt="甜蜜时刻 中间">
      </figure>

      <!-- 右下 4:3 -->
      <figure class="sweet-photo photo-right" role="listitem" aria-label="甜蜜右下">
        <!-- 替换位置：images/cover.jpg or images/photo3.jpg -->
        <!-- 推荐：上传第三张到 images/photo3.jpg 并替换下面链接 -->
        <img src="https://raw.githubusercontent.com/chenmatou/laicai/main/images/cover.jpg" alt="甜蜜时刻 右下">
      </figure>
    </div>
  </section>

  <!-- RSVP（出席回执） -->
  <section class="rsvp-section" aria-labelledby="rsvp-title">
    <h3 id="rsvp-title" class="heading">出席回执</h3>

    <div class="rsvp-inner">
      <form id="rsvpForm">
        <div class="form-row">
          <label for="guestName">姓名 *</label>
          <input id="guestName" name="guestName" type="text" required placeholder="您的姓名">
        </div>

        <div class="form-row">
          <label for="attendance">是否出席 *</label>
          <select id="attendance" name="attendance" required>
            <option value="">请选择</option>
            <option value="yes">准时出席，分享喜悦</option>
            <option value="maybe">暂不确定</option>
            <option value="no">很遗憾无法出席</option>
          </select>
        </div>

        <div class="form-row">
          <label for="guestCount">出席人数 *</label>
          <select id="guestCount" name="guestCount" required>
            <option value="">请选择</option>
            <option value="1">1人</option>
            <option value="2">2人</option>
            <option value="3">3人</option>
            <option value="4">4人</option>
            <option value="5">5人及以上</option>
          </select>
        </div>

        <div class="form-row">
          <label for="wish">祝福留言（可选）</label>
          <textarea id="wish" name="wish" rows="3" placeholder="送上您的祝福..."></textarea>
        </div>

        <button type="submit" class="submit">提交回执</button>
      </form>

      <div style="margin-top:14px;">
        <span class="counter-box">当前已确认人数：<strong id="attendeeCount">0</strong></span>
        <div style="color:#7a6a5a;font-size:0.9rem;margin-top:8px;">（系统会将选择“准时出席”的人数累计；已保存在浏览器，不做服务器存储。）</div>
      </div>
    </div>
  </section>

  <!-- footer -->
  <footer class="footer">
    <div style="font-size:1.04rem;margin-bottom:8px">Love is space and time measured by the heart.</div>
    <div>感谢您的到来与祝福 — 陈伊涵 &amp; 涂腾文</div>
  </footer>

</div> <!-- /.wrap -->

<!-- 音乐控制 -->
<div class="music-control" id="musicToggle" title="播放/暂停背景音乐">
  <i id="musicIcon" class="fa fa-play"></i>
</div>

<!-- 背景音乐 -->
<audio id="bgMusic" loop preload="none">
  <source src="https://raw.githubusercontent.com/chenmatou/laicai/main/music/wedding-song.mp3" type="audio/mpeg"> <!-- <-- 替换：/music/wedding-song.mp3 -->
  您的浏览器不支持音频元素。
</audio>

<script>
/* ------------- Countdown 逻辑 ------------- 
   Wedding time: 2025-12-29 18:00 local time
*/
(function(){
  const target = new Date('2025-12-29T18:00:00'); // 本地时间
  const elDays = document.getElementById('cd-days');
  const elHours = document.getElementById('cd-hours');
  const elMinutes = document.getElementById('cd-minutes');
  const elSeconds = document.getElementById('cd-seconds');

  function tick(){
    const now = new Date();
    let diff = target - now;
    if(diff <= 0){
      // 到达或过期
      elDays.textContent = 0;
      elHours.textContent = 0;
      elMinutes.textContent = 0;
      elSeconds.textContent = 0;
      return;
    }
    const days = Math.floor(diff / (1000*60*60*24));
    diff -= days * (1000*60*60*24);
    const hours = Math.floor(diff / (1000*60*60));
    diff -= hours * (1000*60*60);
    const minutes = Math.floor(diff / (1000*60));
    diff -= minutes * (1000*60);
    const seconds = Math.floor(diff / 1000);

    elDays.textContent = days;
    elHours.textContent = String(hours).padStart(2,'0');
    elMinutes.textContent = String(minutes).padStart(2,'0');
    elSeconds.textContent = String(seconds).padStart(2,'0');
  }

  tick();
  setInterval(tick, 1000);
})();

/* ------------- RSVP & attendee counter -------------
   - 累计已确认人数保存在 localStorage（键名：wedding_attendees）
   - 提交时，如果 attendance === 'yes'，读取 guestCount 并累计
*/
(function(){
  const form = document.getElementById('rsvpForm');
  const attendeeEl = document.getElementById('attendeeCount');
  const STORAGE_KEY = 'wedding_attendees_count_v1';

  // read initial
  function getStored(){
    const raw = localStorage.getItem(STORAGE_KEY);
    const v = parseInt(raw,10);
    return Number.isNaN(v) ? 0 : v;
  }
  function setStored(n){
    localStorage.setItem(STORAGE_KEY, String(n));
  }
  function render(){
    attendeeEl.textContent = getStored();
  }

  render();

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('guestName').value.trim();
    const attendance = document.getElementById('attendance').value;
    const guestCount = parseInt(document.getElementById('guestCount').value || '0', 10);

    if(!name || !attendance || !guestCount){
      alert('请完整填写姓名、是否出席和出席人数。');
      return;
    }

    if(attendance === 'yes'){
      // 增加计数
      let current = getStored();
      current += guestCount;
      setStored(current);
      render();
    }

    // 简单成功提示（前端模拟提交）
    alert(`感谢 ${name} 的回执！\n出席：${attendance === 'yes' ? '是' : '否'}，人数：${guestCount}\n我们已收到您的信息。`);

    // 重置表单（保留 attendeeCount）
    form.reset();
  });

})();

/* ------------- 背景音乐 控制 ------------- */
(function(){
  const btn = document.getElementById('musicToggle');
  const icon = document.getElementById('musicIcon');
  const audio = document.getElementById('bgMusic');
  let playing = false;

  // 用户首次点击页面任意位置时尝试解锁音频（为部分浏览器）
  document.addEventListener('click', function unlock(){
    audio.volume = 0.6;
    document.removeEventListener('click', unlock);
  });

  btn.addEventListener('click', function(){
    if(playing){
      audio.pause();
      icon.className = 'fa fa-play';
    } else {
      audio.play().catch(()=>{/* ignore autoplay block */});
      icon.className = 'fa fa-pause';
    }
    playing = !playing;
  });
})();

/* ------------- 图片 click to open (可选) ------------- */
document.querySelectorAll('.sweet-photo img').forEach(img=>{
  img.addEventListener('click', ()=>{ window.open(img.src,'_blank'); });
});
</script>
</body>
</html>
